#pragma checksum "C:\My\Projects\new\mvc\Views\User\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "dae412eb2d238d824bfe9c5880a233e37b291e62"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_User_Index), @"mvc.1.0.view", @"/Views/User/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\My\Projects\new\mvc\Views\_ViewImports.cshtml"
using mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\My\Projects\new\mvc\Views\_ViewImports.cshtml"
using mvc.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"dae412eb2d238d824bfe9c5880a233e37b291e62", @"/Views/User/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a6a06753573638890b0ff2d42042a0bcf031bf36", @"/Views/_ViewImports.cshtml")]
    public class Views_User_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<style>
    label {
        display: block;
        margin-bottom: 7px
    }

    form {
        width: 430px;
        text-align: right;
        margin: 5px
    }

    input {
        padding: 5px;
        width: 200px;
        border: none;
        outline: none;
        border-bottom: 1px solid #eee
    }

    textarea {
        width: 200px;
        padding: 5px;
        border: none;
        outline: none;
        border-bottom: 1px solid #eee
    }

    .blue {
        color: white;
        background-color: #32c5d2;
        border: none;
        padding: 10px;
        outline: none;
        margin: 20px 5px 0px 5px
    }

    .gray {
        color: 666;
        background-color: #c2cad8;
        border: none;
        padding: 10px;
        outline: none;
        margin: 20px 0px 0px 0px
    }

    .gray:hover {
        background-color: hsl(218, 22%, 70%);
    }

    .blue:hover {
        background-color: hsl(185, 64%, 40%);
    }

    .btn {
    ");
            WriteLiteral(@"    display: flex;
        margin-left: 177px
    }

    .avatar {
        float: left;
        cursor: pointer;
        object-fit: contain;
        border-radius: 25px;
    }

    .mask {
        position: absolute;
        width: 140px;
        height: 150px;
        background-color: rgba(0, 0, 0, 0.6);
        left: 0;
        top: 0;
        display: none;
        border-radius: 25px;
        
    }


    .avblock:hover .mask {
        display: flex;
        cursor: pointer;
        justify-content: center;
        align-items: center;
        font-size: 24px;


    }


</style>
<div id=""app"">
    <div class=""avblock"" style=""position: relative;"">
        <img class=""avatar"" v-bind:src=""imgSrc"" height=""150"" width=""140"">
        <div class=""mask""  ondblclick=""document.getElementById('upload').click()""> <i class=""fa fa-pencil"" aria-hidden=""true"" style=""color:white;""></i> </div>
    </div>

    <input id=""upload"" v-on:change='changeAvatar' style=""display: none;"" typ");
            WriteLiteral("e=\"file\" />\r\n\r\n    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "dae412eb2d238d824bfe9c5880a233e37b291e625265", async() => {
                WriteLiteral(@"
        <label>Имя
            <input type=""text"" v-model=""user.name"" />
        </label>
        <label>Фамилия
            <input type=""text"" v-model=""user.lastName"">
        </label>
        <label>ИИН
            <input type=""text"" v-model=""user.iin"">
        </label>
        <label>Пароль
            <input style=""width: 150px;"" v-bind:type=""vType"" v-model=""user.password""> <button v-on:mousedown=""vType='text'"" v-on:mouseup=""vType='password'"" class=""blue"" type=""button""><i class=""fa fa-eye"" aria-hidden=""true""></i></button>
        </label>
        <label>Позиция
         
           <input type=""text"" readonly v-model=""user.position"">
        </label>
        <label>Телефон
            <input type=""text"" v-model=""user.mobile"">
        </label>
        <label>О себе
            <textarea cols=""30"" rows=""3"" v-model=""user.aboutMe""></textarea>
        </label>



    ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
    <div class=""btn"">
        <button v-on:click=""saveUser()"" class=""blue"">
            Сохранить изменения
        </button>
        <button v-on:click=""getUser()"" class=""gray"">
            Отмена
        </button>
        <button v-on:click=""openPrint()"" class=""blue"">
           <i class=""fa fa-print"" aria-hidden=""true"" ></i> Печать
        </button>
    </div>

</div>
");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
<script>
    var app = new Vue({
        el: '#app',
        data: {
            user: {},
            imgSrc:'/img/person.png',
            vType:""password""
        },
        mounted() {
            this.getUser();
        },
        methods: {
            getUser: async function () {
                let resp = await axios.get('/User/GetUser');
                this.user = resp.data;
                this.imgSrc=resp.data.avatar;
            },
            saveUser: async function () {
                let resp = await axios.post('/User/SaveUser', this.user);
                if (resp.data == true) {
                    alert('Данные сохранены');
                } else {
                    alert('Данные не валидны')
                }

            },
            openPrint:function(){
                let params=[
                    'height='+screen.height,
                    'width='+screen.width
                ].join(',');
                window.open(""/User/Passport"",""Passpor");
                WriteLiteral(@"t"",params);
            },
            changeAvatar(e){
                let image = e.target.files[0];
                this.imgSrc=URL.createObjectURL(image);
                let data = new FormData();
                data.append('image', e.target.files[0]); 
                let config ={
                    header:{
                        'Content-Type': 'multipart/form-data'
                    }
                };
                axios.post(
                    '/User/SaveAvatar',
                    data,
                    config
                ).then(
                    resp=>{
                        alert(resp.data);
                    }
                ) 
            }










        },
    })

</script>
");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
